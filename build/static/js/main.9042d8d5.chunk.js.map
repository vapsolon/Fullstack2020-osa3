{"version":3,"sources":["components/Person.js","components/Phonebook.js","components/Notification.js","services/Persons.js","App.js","index.js"],"names":["Person","id","person","handler","name","number","onSubmit","type","Phonebook","persons","map","i","key","Notification","message","className","baseUrl","axios","get","newObject","post","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","errorMessage","setErrorMessage","useEffect","Persons","then","response","data","e","preventDefault","filter","length","window","alert","concat","setTimeout","value","onChange","target","confirm","n","Number","ReactDOM","render","document","getElementById"],"mappings":"+NAaeA,EAXA,SAAC,GAA0B,IAAzBC,EAAwB,EAAxBA,GAAIC,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,QACzB,OACI,6BACI,2BAAID,EAAOE,KAAX,KAAmBF,EAAOG,QAC1B,0BAAMC,SAAUH,EAASF,GAAIA,GACzB,4BAAQM,KAAK,UAAb,aCMDC,EAVG,SAAC,GAAuB,IAAtBC,EAAqB,EAArBA,QAASN,EAAY,EAAZA,QACzB,OACI,6BACKM,EAAQC,KAAI,SAACR,EAAQS,GAAT,OACT,kBAAC,EAAD,CAAQC,IAAKD,EAAGT,OAAQA,EAAQD,GAAIC,EAAOD,GAAIE,QAASA,SCQzDU,EAbM,SAAC,GAAc,IAAbC,EAAY,EAAZA,QACnB,OAAe,OAAZA,EACQ,KAIP,yBAAKC,UAAU,WACX,2BAAID,K,gBCRVE,EAAU,eAsBF,EApBC,WACX,OAAOC,IAAMC,IAAIF,IAmBP,EAZC,SAAAG,GACX,OAAOF,IAAMG,KAAKJ,EAASG,IAWjB,EAJF,SAAClB,GACT,OAAOgB,IAAMI,OAAN,UAAgBL,EAAhB,YAA2Bf,KAGxB,EAhBF,SAACA,GACT,OAAOgB,IAAMC,IAAN,UAAaF,EAAb,YAAwBf,KCiFpBqB,G,MAnFH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACPd,EADO,KACEe,EADF,OAEgBD,mBAAS,IAFzB,mBAEPE,EAFO,KAEEC,EAFF,OAGoBH,mBAAS,IAH7B,mBAGPI,EAHO,KAGIC,EAHJ,OAI0BL,mBAAS,MAJnC,mBAIPM,EAJO,KAIOC,EAJP,KAgEd,OARAC,qBAAU,WACNC,IAECC,MAAK,SAAAC,GACFV,EAAWU,EAASC,WAEzB,IAGC,6BACI,yCACI,kBAAC,EAAD,CAAcrB,QAASe,IACvB,0BAAMvB,SA9DF,SAAC8B,IACbA,EAAEC,iBACC5B,EAAQ6B,QAAO,SAAApC,GAAM,OAAIA,EAAOE,OAASqB,KAASc,OAAS,GAC1DC,OAAOC,MAAMhB,EAAU,oCAIvBO,EADkB,CAAC5B,KAAKqB,EAASpB,OAAOsB,IAGvCM,MAAK,SAAAC,GACFV,EAAWf,EAAQiC,OAAOR,EAASC,OACnCL,EAAgB,UAAYL,EAAU,uBACtCC,EAAW,IACXE,EAAa,IACbe,YAAW,WACPb,EAAgB,QACjB,UA+CC,sCACU,2BAAOc,MAAOnB,EAASoB,SArB9B,SAACT,GAChBV,EAAWU,EAAEU,OAAOF,UAmBR,IAC0D,6BAD1D,WAEY,2BAAOA,MAAOjB,EAAWkB,SAnBhC,SAACT,GAClBR,EAAaQ,EAAEU,OAAOF,WAoBV,6BACI,4BAAQrC,KAAK,UAAb,SAGZ,uCACA,kBAAC,EAAD,CAAWE,QAASA,EAASN,QAlDhB,SAACiC,GAClBA,EAAEC,iBACF,IAAMpC,EAAKmC,EAAEU,OAAO7C,GAChBG,EAAO,MACX4B,EAAY/B,GACXgC,MAAK,SAAAC,GACF9B,EAAO8B,EAASC,KAAK/B,KAClBoC,OAAOO,QAAQ,4BAA8B3C,EAAO,MACnD4B,EACK/B,GACJgC,MAAK,SAAAC,GACFV,EAAWf,EAAQ6B,QAAO,SAAAU,GAAC,OAAIA,EAAE/C,KAAOgD,OAAOhD,OAC/C6B,EAAgB,UAAY1B,EAAO,yBACnCuC,YAAW,WACPb,EAAgB,QACjB,iBC7CvBoB,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.9042d8d5.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({id, person, handler}) =>{\n    return(\n        <div>\n            <p>{person.name}: {person.number}</p>\n            <form onSubmit={handler} id={id}>\n                <button type=\"submit\">Delete</button>\n            </form>\n        </div>\n    )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Phonebook = ({persons, handler}) =>{\n    return(\n        <div>\n            {persons.map((person, i) =>\n                <Person key={i} person={person} id={person.id} handler={handler} />\n            )}\n        </div>\n    )\n}\n\nexport default Phonebook","import React from 'react'\n\nconst Notification = ({message}) =>{\n    if(message === null){\n        return null\n    }\n    \n    return(\n        <div className=\"success\">\n            <p>{message}</p>\n        </div>\n    )\n\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () =>{\n    return axios.get(baseUrl)\n}\n\nconst get = (id) =>{\n    return axios.get(`${baseUrl}/${id}`)\n}\n\nconst create = newObject =>{\n    return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) =>{\n    return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nconst del = (id) =>{\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default{ \n    getAll, \n    create, \n    update,\n    del,\n    get\n}","import React, { useState, useEffect } from 'react'\nimport Phonebook from './components/Phonebook'\nimport Notification from './components/Notification'\nimport Persons from './services/Persons'\nimport './index.css'\n\nconst App = () => {\n    const [persons, setPersons] = useState([]) \n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [errorMessage, setErrorMessage] = useState(null)\n\n    const addName = (e) =>{\n        e.preventDefault()\n        if(persons.filter(person => person.name === newName).length > 0){\n            window.alert(newName + ' already exists in the phonebook')\n        }\n        else{\n            const newPerson = {name:newName, number:newNumber}\n            Persons\n            .create(newPerson)\n            .then(response =>{\n                setPersons(persons.concat(response.data))\n                setErrorMessage(\"Person \" + newName + \" added successfully\")\n                setNewName('')\n                setNewNumber('')\n                setTimeout(() =>{\n                    setErrorMessage(null)\n                }, 2000)\n            })\n        }\n    }\n    \n    //Kohtuullisen laajamittainen sekasotku mutta toimii\n    const deletePerson = (e) =>{\n        e.preventDefault()\n        const id = e.target.id\n        let name = \"aaa\"\n        Persons.get(id)\n        .then(response =>{\n            name = response.data.name\n            if(window.confirm(\"Would you like to delete \" + name + \"?\")){\n                Persons\n                .del(id)\n                .then(response =>{\n                    setPersons(persons.filter(n => n.id !== Number(id)))\n                    setErrorMessage(\"Person \" + name + \" deleted successfully\")\n                    setTimeout(() =>{\n                        setErrorMessage(null)\n                    }, 2000)\n                })\n            }\n        })\n    }\n\n    const nameChange = (e) =>{\n        setNewName(e.target.value)\n    }\n    const numberChange = (e) =>{\n        setNewNumber(e.target.value)\n    }\n    \n    useEffect(() =>{\n        Persons\n        .getAll()\n        .then(response =>{\n            setPersons(response.data)\n        })\n    }, [])\n    \n    return(\n        <div>\n            <h2>Phonebook</h2>\n                <Notification message={errorMessage}/>\n                <form onSubmit={addName}>\n                    <div>\n                        Name: <input value={newName} onChange={nameChange} /> <br/>\n                        Number: <input value={newNumber} onChange={numberChange} />\n                    </div>\n                    <div>\n                        <button type=\"submit\">Add</button>\n                    </div>\n                </form>\n            <h2>Numbers</h2>\n            <Phonebook persons={persons} handler={deletePerson}/>\n        </div>\n    )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}